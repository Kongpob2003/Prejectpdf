<div class="home-container">
  <!-- Sidebar -->
  <aside class="sidebar minimal">
    <div class="logo-box">
      <span class="material-icons logo-icon">picture_as_pdf</span>
      <span class="logo-text">My PDF</span>
    </div>

    <button class="back-btn" routerLink="/home">
      <span class="material-icons">arrow_back</span>
      ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å
    </button>
  </aside>

  <!-- Content -->
  <main class="content center-content">
    <div class="user-card">
      <!-- Header -->
      <div class="user-header">
        <h2>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</h2>
        <p>‡πÄ‡∏û‡∏¥‡πà‡∏° / ‡∏•‡∏ö ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö</p>
      </div>

      <!-- Tabs -->
      <div class="tabs">
        <button
          [class.active]="activeTab === 'add'"
          (click)="activeTab = 'add'">
          ‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
        </button>

        <button
          [class.active]="activeTab === 'delete'"
          (click)="activeTab = 'delete'">
          üóëÔ∏è ‡∏•‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
        </button>
      </div>

      <!-- ADD USER -->
      <div *ngIf="activeTab === 'add'" class="tab-content">
        <div class="form-group">
          <label>‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ <span class="required">*</span></label>
          <input
            type="text"
            [(ngModel)]="newUser.username"
            placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ"
            required
          />
        </div>

        <div class="form-group">
          <label>‡∏≠‡∏µ‡πÄ‡∏°‡∏• <span class="required">*</span></label>
          <input
            type="email"
            [(ngModel)]="newUser.email"
            placeholder="example@email.com"
            required
          />
        </div>

        <div class="form-group">
          <label>‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô <span class="required">*</span></label>
          <input
            type="password"
            [(ngModel)]="newUser.password"
            placeholder="‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô"
            required
          />
          <small
            *ngIf="newUser.password"
            [class]="getPasswordStrengthClass()"
          >
            ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á: {{ getPasswordStrength() }}
          </small>
        </div>

       <div class="form-group">
  <label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£ <span class="required">*</span></label>
  <input
    type="tel"
    [(ngModel)]="newUser.phone"
    placeholder="‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£ 10 ‡∏´‡∏•‡∏±‡∏Å"
    maxlength="10"
    pattern="[0-9]{10}"
    inputmode="numeric"
    (input)="onPhoneInput($event)"
    required
  />
  <small class="error" *ngIf="phoneError">
    ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç 10 ‡∏´‡∏•‡∏±‡∏Å
  </small>
</div>

        <div class="form-group">
          <label>‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ <span class="required">*</span></label>
          <select [(ngModel)]="newUser.type">
            <option value="user">User (‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå)</option>
            <option value="admin">Admin (‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö)</option>
          </select>
        </div>

        <div class="actions">
          <button class="btn-submit" (click)="addUser()">
            <span class="material-icons">person_add</span>
            ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
          </button>
        </div>
      </div>

      <!-- DELETE USER -->
      <div *ngIf="activeTab === 'delete'" class="tab-content">
        <div class="table-container">
          <table class="user-table">
            <thead>
              <tr>
                <th>‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</th>
                <th>‡∏≠‡∏µ‡πÄ‡∏°‡∏•</th>
                <th>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£</th>
                <th>‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå</th>
                <th>‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
              </tr>
            </thead>

            <tbody>
              <tr *ngFor="let user of users ">
                <td>{{ user.username }}</td>
                <td>{{ user.email }}</td>
                <td>{{ user.phone }}</td>
                <td>
                  <span
                    class="badge"
                    [class.badge-admin]="user.type === 'admin'"
                    [class.badge-user]="user.type === 'user'"
                  >
                    {{ user.type === 'admin' ? 'Admin' : 'User' }}
                  </span>
                </td>
                <td>
                  <button
                    class="btn-delete"
                    (click)="deleteUser(user.uid)"
                  >
                    <span class="material-icons">delete</span>
                    ‡∏•‡∏ö
                  </button>
                </td>
              </tr>

              <tr *ngIf="users.length === 0">
                <td colspan="5" class="no-data">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="user-count" *ngIf="users.length > 0">
          <div style="display: flex; padding-top: 2em; gap: 0.2em;">
              <span class="material-icons">people</span>
              ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î {{ users.length }} ‡∏Ñ‡∏ô
          </div>
        </div>
      </div>
    </div>
  </main>
</div>